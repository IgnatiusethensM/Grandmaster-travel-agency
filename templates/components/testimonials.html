{% load ui_tags %}

<section class="section bg-teal py-20 px-4 sm:px-6 lg:px-8" id="testimonials">
    <div class="container max-w-7xl mx-auto">
        <div class="section-header text-center mb-12">
            <h2 class="section-title text-4xl md:text-5xl text-white mb-4"
                style="font-family: 'Playfair Display', serif;">
                What Our Travelers Say
            </h2>
            <p class="section-subtitle text-lg text-white/90 max-w-2xl mx-auto">
                Real experiences from real adventurers
            </p>
        </div>

        <!-- Carousel Container -->
        <div class="carousel-container relative" id="testimonialsCarousel">
            <div class="carousel-track flex transition-transform duration-500 ease-out">
                {% for testimonial in testimonials %}
                <div class="carousel-item flex-shrink-0 w-full md:w-1/2 lg:w-1/3 px-4">
                    <div
                        class="card bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm h-full">
                        <div class="card-content p-6">
                            <div class="flex items-center gap-4 mb-4">
                                {% ui_image_fallback src=testimonial.image alt=testimonial.name css_class="w-16 h-16
                                rounded-full object-cover" %}
                                <div>
                                    <h4 class="font-semibold text-lg">{{ testimonial.name }}</h4>
                                    <p class="text-muted-foreground text-sm">{{ testimonial.location }}</p>
                                </div>
                            </div>
                            <div class="flex gap-1 mb-4">
                                {% for i in "12345" %}
                                <i data-lucide="star" class="w-4 h-4 fill-gold text-gold"></i>
                                {% endfor %}
                            </div>
                            <p class="text-gray-700 italic">"{{ testimonial.text }}"</p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Navigation Buttons -->
        <button
            class="carousel-prev absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-all hidden md:flex">
            <i data-lucide="arrow-left" class="w-5 h-5"></i>
        </button>
        <button
            class="carousel-next absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 bg-white/90 hover:bg-white rounded-full p-3 shadow-lg transition-all hidden md:flex">
            <i data-lucide="arrow-right" class="w-5 h-5"></i>
        </button>
    </div>

    <!-- Dots Navigation -->
    <div class="carousel-dots flex justify-center gap-2 mt-6">
        {% for testimonial in testimonials %}
        <button
            class="dot w-2 h-2 rounded-full bg-white/50 hover:bg-white transition-colors {% if forloop.first %}bg-white{% endif %}"
            data-index="{{ forloop.counter0 }}"></button>
        {% endfor %}
    </div>
    </div>
</section>